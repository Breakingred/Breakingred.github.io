<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Echo"><title>0726-0806 WorkReview · Echo</title><meta name="description" content="构建指标体系的套路 @数据建设Step1. 做加法 —— 核心目标层层层…层层层拆解一次总销量的巨大滑坡可能与一件最末端的微不足道的小事有关，正如一只蝴蝶在巴西轻拍翅膀，可以导致一个月后德克萨斯州的一场龙卷风。分析一个我们赖以生存的核心指标，面面俱到、刨根问底绝不是多虑。
相比于头脑风暴环节天马行空"><meta name="keywords" content="Echo"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h5 title=""><a href="/">Echo</a></h5></div></div><ul class="social-links"><li><a href="https://twitter.com/111111111111111111111111111111111111111None"><i class="fa fa-twitter"></i></a></li><li><a href="http://instagram.com/111111111111111111111111111111111111111None"><i class="fa fa-instagram"></i></a></li><li><a href="/111111111111111111111111111111111111111None"><i class="fa fa-rss"></i></a></li><li><a href="http://weibo.com/111111111111111111111111111111111111111None"><i class="fa fa-weibo"></i></a></li></ul></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="http://wx1.sinaimg.cn/large/7f0488e9ly1fbwhwy85xmj20h80gagoe.jpg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>0726-0806 WorkReview</a></h3></div><div class="post-content"><h2 id="构建指标体系的套路-数据建设"><a href="#构建指标体系的套路-数据建设" class="headerlink" title="构建指标体系的套路 @数据建设"></a>构建指标体系的套路 @数据建设</h2><h4 id="Step1-做加法-——-核心目标层层层…层层层拆解"><a href="#Step1-做加法-——-核心目标层层层…层层层拆解" class="headerlink" title="Step1. 做加法 —— 核心目标层层层…层层层拆解"></a>Step1. 做加法 —— 核心目标层层层…层层层拆解</h4><p>一次总销量的巨大滑坡可能与一件最末端的微不足道的小事有关，正如一只蝴蝶在巴西轻拍翅膀，可以导致一个月后德克萨斯州的一场龙卷风。分析一个我们赖以生存的核心指标，面面俱到、刨根问底绝不是多虑。</p>
<p>相比于头脑风暴环节天马行空的发散型思维，为了避免遗漏细枝末节，在开始构建指标体系时，我们更倾向于信赖数学公式。最简单的加减乘除四则运算就可以帮助我们实现目标，比如销量就可以找到至少3条不同的数学公式来表示推导（具体略），销量拆解出了一堆二级小目标们……重复拆解工作，直到指标细到无法再分割，找到足以影响核心目前的局部因素。</p>
<p>此时我们得到了一个汇集大量指标的拥挤的脑图。</p>
<h4 id="Step2-做减法-——-关注指标与维度"><a href="#Step2-做减法-——-关注指标与维度" class="headerlink" title="Step2. 做减法 —— 关注指标与维度"></a>Step2. 做减法 —— 关注指标与维度</h4><p>此时如果仔细观察拥挤的脑图，可以发现它并不十分让人满意，出现在你眼前的是很多冗余的信息，譬如大多数指标都带着优惠前、优惠后、品牌用户、非品牌用户的前缀，此时引入维度也许能缓解这种拥挤，如果说指标多数情况下指被观察事物的数值考量，那么维度可以理解为观察事物的角度。如时间、类别都是典型的维度，这些维度帮助我们从不同视角观察事物的变化、分布。</p>
<p>然而，是否将指标合二为一以维度进行替代不能一概而论，譬如对于品牌用户、非品牌用户，我们时长需要将两者的消费数据进行对比，于是将前者或后者抹去以维度替代就不是那么合理了。</p>
<p>说回做减法，除去合适使用维度减少指标，从业务角度也需要对哪些指标有意义进行判断，比如我们一厢情愿的将用户数拆分为品牌用户数和非品牌用户数，而实际的状况是我们并不能统计到非品牌用户的任何信息，那么至少在本期，我们可以去除一些无意义的指标了。</p>
<h4 id="Step3-调结构-——-面向对象输出"><a href="#Step3-调结构-——-面向对象输出" class="headerlink" title="Step3. 调结构 —— 面向对象输出"></a>Step3. 调结构 —— 面向对象输出</h4><p>时刻记得你的输出结果面向的是人类，不同对象关注的点有着天壤之别，譬如相比于某个小客户的为每次活动补贴了100大洋，CEO可能更想知道这个月公司预计的收入是多少。</p>
<p><br></p>
<h2 id="懒人测试脚本方法-数据提取"><a href="#懒人测试脚本方法-数据提取" class="headerlink" title="懒人测试脚本方法 @数据提取"></a>懒人测试脚本方法 @数据提取</h2><h4 id="悄悄插入一条测试数据，观察增量部分导致的数据结果变化是否符合预期"><a href="#悄悄插入一条测试数据，观察增量部分导致的数据结果变化是否符合预期" class="headerlink" title="- 悄悄插入一条测试数据，观察增量部分导致的数据结果变化是否符合预期"></a>- 悄悄插入一条测试数据，观察增量部分导致的数据结果变化是否符合预期</h4><h4 id="简单粗暴的复制表结构，建立一模一样的测试表结构用于测试，与杂乱庞大数据说再见"><a href="#简单粗暴的复制表结构，建立一模一样的测试表结构用于测试，与杂乱庞大数据说再见" class="headerlink" title="- 简单粗暴的复制表结构，建立一模一样的测试表结构用于测试，与杂乱庞大数据说再见"></a>- 简单粗暴的复制表结构，建立一模一样的测试表结构用于测试，与杂乱庞大数据说再见</h4><h4 id="在脚本中，将可能有问题的部分输出查看结果"><a href="#在脚本中，将可能有问题的部分输出查看结果" class="headerlink" title="- 在脚本中，将可能有问题的部分输出查看结果"></a>- 在脚本中，将可能有问题的部分输出查看结果</h4><p><br></p>
<h2 id="谜一样的Python模块-数据提取"><a href="#谜一样的Python模块-数据提取" class="headerlink" title="谜一样的Python模块 @数据提取"></a>谜一样的Python模块 @数据提取</h2><p>Python中，每个.py文件被称之为模块，每个具有__init__.py文件的目录被称为包。只要模块或者包所在的目录在sys.path中，就可以使用import 模块或import 包，其中site-packages 是包存储的最佳位置选择。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">In [1]: import sys</div><div class="line"></div><div class="line">In [2]: import pprint</div><div class="line"></div><div class="line">In [3]: pprint.pprint(sys.path)</div><div class="line">[&apos;&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/bin&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python36.zip&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6/lib-dynload&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6/site-packages&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6/site-packages/Sphinx-1.5.6-py3.6.egg&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6/site-packages/aeosa&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6/site-packages/twilio-6.3.dev0-py3.6.egg&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6/site-packages/PySocks-1.6.7-py3.6.egg&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6/site-packages/httplib2-0.10.3-py3.6.egg&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6/site-packages/setuptools-27.2.0-py3.6.egg&apos;,</div><div class="line"> &apos;/Users/breaking_red/Applications/anaconda/lib/python3.6/site-packages/IPython/extensions&apos;,</div><div class="line"> &apos;/Users/breaking_red/.ipython&apos;]</div></pre></td></tr></table></figure>
<p>这里顺带提一嘴常见的导入模块的姿势：</p>
<ul>
<li>import module </li>
<li>from module import method</li>
<li>from module import *</li>
</ul>
<p>书上说：命名冲突可能发生在很隐蔽的角落，因此除非真的需要from这个形式的模块导入语句，否则应该坚持使用普通的import，这种做法在少数情况下是挺方便的，但是这样也会打乱你的命名空间。</p>
<p>例如，你可能定义了一个与导入模块中名称相同的变量或函数，这时如果你试图使用<code>os</code>模块中的同名变量或函数，实际使用的将是你自己定义的内容。因此，你最后可能会碰到一个相当让人困惑的逻辑错误。</p>
<p><br></p>
<h2 id="其他印象深刻的糟心事"><a href="#其他印象深刻的糟心事" class="headerlink" title="其他印象深刻的糟心事"></a>其他印象深刻的糟心事</h2><h3 id="装包超时超时超时…-1kb-s…"><a href="#装包超时超时超时…-1kb-s…" class="headerlink" title="- 装包超时超时超时…(1kb/s…)"></a>- 装包超时超时超时…(1kb/s…)</h3><p>装MaxCompute提供给Python的ODPS，pip default timeout = 1000 都不管用，索性换个源，安装阿里云pip镜像，速度快到飞起。</p>
<p>创建.pip文件夹，创建pip.conf，配置[global]：</p>
<p>trusted-host = <a href="http://mirrors.ustc.edu.cn" target="_blank" rel="external">mirrors.ustc.edu.cn</a></p>
<p>index-url = <a href="https://mirrors.ustc.edu.cn/pypi/web/simple" target="_blank" rel="external">https://mirrors.ustc.edu.cn/pypi/web/simple</a></p>
<h3 id="可怕的版本管理"><a href="#可怕的版本管理" class="headerlink" title="- 可怕的版本管理"></a>- 可怕的版本管理</h3><p><a href="https://breakingred.github.io/2017/04/19/Git/" target="_blank" rel="external">本地git捡起来</a></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-08-06</span><i class="fa fa-tag"></i><a href="/tags/WorkReview/" title="WorkReview" class="tag">WorkReview </a></div></div></div></div><div class="share"><div class="evernote"> <a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"> <a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"> <a href="http://twitter.com/home?status=,http://yoursite.com/2017/08/06/0726-0806-Review/,Echo,0726-0806 WorkReview,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a role="navigation" href="/2017/07/14/满减优惠券定价模型/" title="满减优惠券定价模型" class="btn">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>